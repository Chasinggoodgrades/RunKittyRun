import { Regions } from 'src/AutoGenerated/Regions'
import { CurrentGameMode } from 'src/Gamemodes/CurrentGameMode'
import { GameMode } from 'src/Gamemodes/GameModeEnum'
import { Point } from 'w3ts'
import { SoloPodium } from './SoloPodium'
import { StandardPodium } from './StandardPodium'
import { TeamPodium } from './TeamPodium'

export class PodiumManager {
    public static PodiumSpots: Point[]

    public static Initialize() {
        PodiumManager.SetPodiumPositions()
    }

    public static BeginPodiumEvents() {
        switch (CurrentGameMode.active) {
            case GameMode.Standard:
                StandardPodium.BeginPodiumActions()
                break

            case GameMode.SoloTournament:
                SoloPodium.BeginPodiumActions()
                break

            case GameMode.TeamTournament:
                TeamPodium.BeginPodiumActions()
                break
        }
    }

    private static SetPodiumPositions() {
        PodiumManager.PodiumSpots = [
            Point.create(Regions.Podium_1.centerX, Regions.Podium_1.centerY),
            Point.create(Regions.Podium_2.centerX, Regions.Podium_2.centerY),
            Point.create(Regions.Podium_3.centerX, Regions.Podium_3.centerY),
        ]
    }
}
