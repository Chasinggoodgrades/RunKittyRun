import { Constants } from 'src/AutoGenerated/Constants'
import { Regions } from 'src/AutoGenerated/Regions'
import { CurrentGameMode } from 'src/Gamemodes/CurrentGameMode'
import { GameMode } from 'src/Gamemodes/GameModeEnum'
import { MapPlayer, Unit } from 'w3ts'

export class SpawnChampions {
    public static Fieryfox2023: Unit
    public static Fieryfox2024: Unit
    public static FandF2023: Unit
    public static Stan2025: Unit

    public static Initialize() {
        if (CurrentGameMode.active !== GameMode.Standard) return
        SpawnChampions.SpawnUnits()
        SpawnChampions.ApplyCosmetics()
    }

    private static SpawnUnits() {
        let rect = Regions.Solo2023
        let x = rect.centerX
        let y = rect.centerY
        SpawnChampions.Fieryfox2023 = Unit.create(
            MapPlayer.fromIndex(PLAYER_NEUTRAL_PASSIVE)!,
            Constants.UNIT_SOLO_TOURNAMENT_2023,
            x,
            y,
            135.0
        )!
        SpawnChampions.Fieryfox2023.invulnerable = true

        rect = Regions.Team2023
        x = rect.centerX
        y = rect.centerY
        SpawnChampions.FandF2023 = Unit.create(
            MapPlayer.fromIndex(PLAYER_NEUTRAL_PASSIVE)!,
            Constants.UNIT_TEAM_TOURNAMENT_2023,
            x,
            y,
            45.0
        )!
        SpawnChampions.FandF2023.invulnerable = true

        rect = Regions.Solo2024
        x = rect.centerX
        y = rect.centerY
        SpawnChampions.Fieryfox2024 = Unit.create(
            MapPlayer.fromIndex(PLAYER_NEUTRAL_PASSIVE)!,
            Constants.UNIT_SOLO_TOURNAMENT_2024,
            x,
            y,
            315.0
        )!
        SpawnChampions.Fieryfox2024.invulnerable = true

        rect = Regions.UrnSoulRegion1
        x = rect.centerX
        y = rect.centerY
        SpawnChampions.Stan2025 = Unit.create(
            MapPlayer.fromIndex(PLAYER_NEUTRAL_PASSIVE)!,
            Constants.UNIT_SOLO_TOURNAMENT_2025,
            x,
            y,
            230.0
        )!
        SpawnChampions.Stan2025.invulnerable = true
    }

    private static ApplyCosmetics() {
        SpawnChampions.Fieryfox2023.addSpecialEffectTarget('war3mapImported\\NitroTurquoise.mdx', 'origin')
        SpawnChampions.Fieryfox2023.addSpecialEffectTarget('war3mapImported\\TurquoiseWings.mdx', 'chest')

        SpawnChampions.FandF2023.addSpecialEffectTarget('war3mapImported\\GlaciarAuraPurple.mdx', 'origin')
        SpawnChampions.FandF2023.addSpecialEffectTarget('war3mapImported\\VoidTendrilsWings.mdx', 'chest')

        SpawnChampions.Fieryfox2024.addSpecialEffectTarget('war3mapImported\\NitroTurquoise.mdx', 'origin')
        SpawnChampions.Fieryfox2024.addSpecialEffectTarget('war3mapImported\\TurquoiseWings.mdx', 'chest')

        SpawnChampions.Stan2025.addSpecialEffectTarget('war3mapImported\\VoidTendrilsWings.mdx', 'chest')
        SpawnChampions.Stan2025.addSpecialEffectTarget('war3mapImported\\NitroTurquoise.mdx', 'origin')
    }
}
